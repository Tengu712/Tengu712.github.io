---
import Layout from "../layouts/Layout.astro";
import PostLink from "../components/PostLink.astro";

const posts = await Astro.glob('./posts/*.mdx');

function getId(file: string): string {
	const filename = file.split("/").slice(-1)[0]
	return filename.substring(0, filename.indexOf("."))
}
---

<Layout title="天狗会議録" topImage="https://img.skdassoc.work/top.png">
	{posts.map(post => (<PostLink
		id={getId(post.file)}
		title={post.frontmatter.title}
		tags={post.frontmatter.tags}
		date={post.frontmatter.date}
	/>))}
</Layout>
<style>
</style>
